
what we know


1. - rr seemes linked to one tsrv+pid, e.g. to one single (client)session or postrgres-process.
And one (client)session can generate multiple rr's
The top_level_ids of 0000 are a special case, they seem to be activity generated by tserver itself

select root_request_id, top_level_node_id  , count (distinct pid ) from ybx_ashy_log yal 
where yal.root_request_id::text != '00000000-0000-0000-0000-000000000000'
group by 1, 2
order by 3 desc, root_request_id ; 


2. A single rr can be sent for processing to many nodes. At least I seem to find evidence of that in my ash-records.

select root_request_id, top_level_node_id  , count (distinct host ) from ybx_ashy_log yal 
where yal.root_request_id::text != '00000000-0000-0000-0000-000000000000'
group by 1, 2
order by 3 desc, root_request_id ; 

3. I found that a root_req (the non-0000 rrs and non-0000 top-level_id) can have multiple query-id's under it.. ? 
(will re-veerify)
This does not concur with the description (intention) that "an rr is generated for every query run", in which case I would expect that a rr always only has 1 query_id on it. Is this a possible bug in ash, or can a rr really process mulitple queries ? What if the client does : select my_function (); , where the function contains multiple queries. I have several of those functions for my ash-collection jobs.

ccc:
